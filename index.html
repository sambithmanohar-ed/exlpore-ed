<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Brain Explorer</title>
  <meta name="description" content="Student-friendly neuroscience with lessons, quizzes, flashcards, and an interactive brain map." />
  <link rel="icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#0f172a">
  <style>
    :root{ --bg:#0f172a; --muted:#94a3b8; --text:#e5e7eb; --accent:#60a5fa; --accent2:#34d399; --radius:18px; --border:#1f2a44; --panel:#0b1222; }
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Noto Sans",sans-serif;background:linear-gradient(180deg,#0b1023,#0f172a 30%);color:var(--text)}
    a{color:var(--accent);text-decoration:none}
    header{position:sticky;top:0;background:rgba(2,6,23,.6);backdrop-filter:blur(6px);border-bottom:1px solid #1f2937;z-index:50}
    .container{max-width:1100px;margin:0 auto;padding:18px}
    .nav{display:flex;align-items:center;gap:16px;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:10px;font-weight:700}
    .logo{width:36px;height:36px;border-radius:10px;background: radial-gradient(100% 100% at 30% 20%, #60a5fa, #9333ea);box-shadow:0 10px 25px rgba(99,102,241,.35)}
    .tabs{display:flex;gap:10px;flex-wrap:wrap}
    .tab-btn{padding:8px 12px;border-radius:999px;background:var(--panel);border:1px solid var(--border);color:#cbd5e1;font-size:14px;cursor:pointer}
    .tab-btn.active{background:linear-gradient(135deg,#1e293b,var(--panel));border-color:#334155;color:#fff;box-shadow:inset 0 0 0 1px #3b82f6}
    main{padding:32px 18px}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:18px}
    .card{grid-column:span 12;background:var(--panel);border:1px solid var(--border);border-radius:var(--radius);padding:18px;box-shadow:0 10px 25px rgba(2,6,23,.5)}
    @media(min-width:800px){.card.span-4{grid-column:span 4}.card.span-6{grid-column:span 6}.card.span-8{grid-column:span 8}}
    .muted{color:var(--muted)} .small{font-size:12px}
    .pill{display:inline-block;padding:4px 10px;border-radius:999px;background:#0b152a;border:1px solid #1e293b;color:#93c5fd;font-size:12px}
    .hero h1{font-size:clamp(28px,4vw,42px);margin:0}
    .btn{appearance:none;border:0;padding:10px 14px;border-radius:12px;background:linear-gradient(135deg,#2563eb,#22c55e);color:white;font-weight:700;cursor:pointer}
    .btn.secondary{background:#0b152a;border:1px solid #1e293b;color:#cbd5e1}
    .row{display:flex;gap:12px;flex-wrap:wrap}
    .list li{margin:6px 0}
    input[type="search"]{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#0b152a;color:#e5e7eb}
    .diagram{width:100%;height:340px;border-radius:16px;background:radial-gradient(120% 90% at 50% 0%,#1a2440,#0b1222);border:1px solid var(--border);display:grid;place-items:center;position:relative}
    .hotspot{position:absolute;transform:translate(-50%,-50%);width:18px;height:18px;border-radius:999px;background:#3b82f6;border:2px solid white;cursor:pointer}
    .tooltip{position:absolute;bottom:125%;left:50%;transform:translateX(-50%);background:#0b152a;border:1px solid #1e293b;border-radius:10px;padding:8px;white-space:nowrap;display:none}
    .hotspot:hover .tooltip{display:block}
    footer{padding:28px 18px;border-top:1px solid #1f2937;color:#94a3b8}
    .teaser{display:flex;gap:12px;flex-wrap:wrap}
    .teaser .mini{min-width:180px;flex:1;border:1px solid var(--border);border-radius:14px;padding:12px;background:#0b152a;cursor:pointer}
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand"><div class="logo"></div><span id="sitename">Brain Explorer</span></div>
      <div class="tabs" role="tablist" aria-label="Site sections">
        <button class="tab-btn" data-tab="home">Home</button>
        <button class="tab-btn" data-tab="learn">Learn</button>
        <button class="tab-btn" data-tab="quiz">Quizzes</button>
        <button class="tab-btn" data-tab="flash">Flashcards</button>
        <button class="tab-btn" data-tab="interactive">Interactive</button>
        <button class="tab-btn" data-tab="resources">Resources</button>
        <button class="tab-btn" data-tab="about">About</button>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- HOME -->
    <section id="home">
      <div class="grid">
        <div class="card span-8">
          <span class="pill">Neuroscience for students</span>
          <h1>Understand your brain — memory, attention, emotion, & more.</h1>
          <p class="muted">Fast, visual lessons with mini-quizzes and an interactive brain map. Built for middle/high school learners.</p>
          <div class="row" style="margin-top:12px">
            <button class="btn" data-nav="learn">Start learning</button>
            <button class="btn secondary" data-nav="quiz">Try a quiz</button>
          </div>

          <!-- Featured topics -->
          <div class="grid" style="margin-top:18px">
            <a class="card span-4" href="#learn"><h4>Lobes of the brain</h4><p class="muted">What each lobe does in daily life.</p></a>
            <a class="card span-4" href="#learn"><h4>Memory types</h4><p class="muted">Working, episodic, procedural, and more.</p></a>
            <a class="card span-4" href="#learn"><h4>Neurotransmitters</h4><p class="muted">Dopamine, serotonin, acetylcholine & more.</p></a>
          </div>

          <!-- Flashcard teaser -->
          <div class="card span-12" style="margin-top:18px">
            <h3>Flashcards preview</h3>
            <div class="teaser" id="teaser"></div>
            <div class="row" style="margin-top:10px">
              <a class="btn" href="#flash">Open full set</a>
              <button class="btn secondary" id="shuffleTeaser">Shuffle</button>
            </div>
            <p class="small muted">Click a card to flip.</p>
          </div>

          <!-- Teacher corner -->
          <div class="grid" style="margin-top:18px">
            <div class="card span-6">
              <h3>Teacher corner</h3>
              <p class="muted">Download a 1-page worksheet + answer key for Brain Basics (coming soon).</p>
              <div class="row">
                <a class="btn" href="#" aria-disabled="true">Worksheet (PDF)</a>
                <a class="btn secondary" href="#" aria-disabled="true">Answer key</a>
              </div>
              <p class="small muted">Tell me when you want real PDFs — I’ll generate them.</p>
            </div>
            <div class="card span-6">
              <h3>What you’ll learn</h3>
              <ul class="list">
                <li>Spot the roles of major lobes in everyday tasks.</li>
                <li>Explain memory types with simple examples.</li>
                <li>Connect transmitters to behavior (motivation, focus).</li>
                <li>Use sleep strategies to remember more.</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Rotating facts -->
        <div class="card span-4">
          <h3>Today’s quick facts</h3>
          <ul id="factsList" class="list"></ul>
          <p class="small muted" id="factsStamp"></p>
        </div>
      </div>
    </section>

    <!-- LEARN -->
    <section id="learn">
      <div class="grid">
        <div class="card span-8">
          <h3>Brain Basics</h3>
          <p class="muted">Start with the big picture: major lobes and what they do.</p>
          <div class="grid">
            <div class="card span-6">
              <h4>Cerebral Lobes</h4>
              <ul class="list">
                <li><b>Frontal</b>: planning, decisions, speech (Broca’s area).</li>
                <li><b>Parietal</b>: touch, spatial awareness.</li>
                <li><b>Temporal</b>: hearing, language (Wernicke’s), memory.</li>
                <li><b>Occipital</b>: vision processing.</li>
              </ul>
            </div>
            <div class="card span-6">
              <h4>Key Structures</h4>
              <ul class="list">
                <li><b>Hippocampus</b>: new memories.</li>
                <li><b>Amygdala</b>: emotion & fear detection.</li>
                <li><b>Cerebellum</b>: balance & timing.</li>
                <li><b>Brainstem</b>: basic life support.</li>
              </ul>
            </div>
          </div>
        </div>
        <div class="card span-4">
          <h3>Search topics</h3>
          <input type="search" id="search" placeholder="Try: memory, dopamine, sleep" aria-label="Search topics" />
          <ul id="searchResults" class="list"></ul>
        </div>
      </div>
    </section>

    <!-- QUIZ -->
    <section id="quiz">
      <div class="grid">
        <div class="card span-8">
          <h3>Mini Quiz: Brain Basics (5 Qs)</h3>
          <form id="quizForm">
            <div class="quiz-q">
              <h4>1) Which lobe primarily processes visual information?</h4>
              <div class="choices">
                <label><input type="radio" name="q1" value="Frontal"/> Frontal</label>
                <label><input type="radio" name="q1" value="Temporal"/> Temporal</label>
                <label><input type="radio" name="q1" value="Parietal"/> Parietal</label>
                <label><input type="radio" name="q1" value="Occipital"/> Occipital</label>
              </div>
              <div class="result" data-for="q1"></div>
            </div>
            <div class="quiz-q">
              <h4>2) The hippocampus is most involved in:</h4>
              <div class="choices">
                <label><input type="radio" name="q2" value="Balance"/> Balance</label>
                <label><input type="radio" name="q2" value="New memories"/> Forming new memories</label>
                <label><input type="radio" name="q2" value="Vision"/> Vision</label>
                <label><input type="radio" name="q2" value="Reflexes"/> Reflexes</label>
              </div>
              <div class="result" data-for="q2"></div>
            </div>
            <div class="quiz-q">
              <h4>3) Which structure is key for emotion/fear detection?</h4>
              <div class="choices">
                <label><input type="radio" name="q3" value="Amygdala"/> Amygdala</label>
                <label><input type="radio" name="q3" value="Cerebellum"/> Cerebellum</label>
                <label><input type="radio" name="q3" value="Brainstem"/> Brainstem</label>
                <label><input type="radio" name="q3" value="Thalamus"/> Thalamus</label>
              </div>
              <div class="result" data-for="q3"></div>
            </div>
            <div class="quiz-q">
              <h4>4) Broca’s area helps mainly with:</h4>
              <div class="choices">
                <label><input type="radio" name="q4" value="Vision"/> Vision</label>
                <label><input type="radio" name="q4" value="Speech production"/> Speech production</label>
                <label><input type="radio" name="q4" value="Balance"/> Balance</label>
                <label><input type="radio" name="q4" value="Heart rate"/> Heart rate</label>
              </div>
              <div class="result" data-for="q4"></div>
            </div>
            <div class="quiz-q">
              <h4>5) Which area is most crucial for basic life functions (breathing/HR)?</h4>
              <div class="choices">
                <label><input type="radio" name="q5" value="Cortex"/> Cerebral cortex</label>
                <label><input type="radio" name="q5" value="Brainstem"/> Brainstem</label>
                <label><input type="radio" name="q5" value="Hippocampus"/> Hippocampus</label>
                <label><input type="radio" name="q5" value="Amygdala"/> Amygdala</label>
              </div>
              <div class="result" data-for="q5"></div>
            </div>
            <div class="row">
              <button class="btn" type="submit">Check Answers</button>
              <button class="btn secondary" type="button" id="resetQuiz">Reset</button>
            </div>
            <p id="score" class="muted"></p>
            <p class="small muted">Best score (this browser): <span id="bestScore">—</span></p>
          </form>
        </div>
        <div class="card span-4">
          <h3>Make your own quiz</h3>
          <p class="muted">Tell me your topics (e.g., neurotransmitters, sleep stages), and I’ll generate more questions.</p>
        </div>
      </div>
    </section>

    <!-- FLASHCARDS -->
    <section id="flash">
      <div class="grid">
        <div class="card span-12">
          <h3>Flashcards</h3>
          <div id="fc" class="row"></div>
          <p class="small muted">Click a card to flip.</p>
        </div>
      </div>
    </section>

    <!-- INTERACTIVE -->
    <section id="interactive">
      <div class="grid">
        <div class="card span-8">
          <h3>Interactive Brain Map (prototype)</h3>
          <div class="diagram" aria-label="brain diagram placeholder">
            <div class="hotspot" style="top:55%;left:30%"><span class="tooltip"><b>Frontal lobe</b>: planning & decisions</span></div>
            <div class="hotspot" style="top:55%;left:50%"><span class="tooltip"><b>Parietal lobe</b>: touch, spatial</span></div>
            <div class="hotspot" style="top:65%;left:70%"><span class="tooltip"><b>Occipital lobe</b>: vision</span></div>
            <div class="hotspot" style="top:75%;left:50%"><span class="tooltip"><b>Cerebellum</b>: balance & timing</span></div>
          </div>
          <p class="small muted">We can swap this placeholder for a proper SVG brain with precise hotspots later.</p>
        </div>
        <div class="card span-4">
          <h3>Feature ideas</h3>
          <ul class="list">
            <li>Label-the-brain drag & drop</li>
            <li>Neurotransmitter flashcards</li>
            <li>Sleep-cycle timeline</li>
            <li>Reaction time tester</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- RESOURCES -->
    <section id="resources">
      <div class="grid">
        <div class="card span-12">
          <h3>Resources</h3>
          <ul class="list">
            <li>Beginner summaries you write (I’ll help condense and format).</li>
            <li>Links to reputable sources (when you’re ready to add them).</li>
            <li>Downloadable worksheets & answer keys (I can generate PDFs).</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about">
      <div class="grid">
        <div class="card span-12">
          <h3>About This Site</h3>
          <p class="muted">Made by students, for students. Spot mistakes or want new topics? Use the contact info you’ll add here.</p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div class="row" style="justify-content:space-between;align-items:center;flex-wrap:wrap">
        <span class="small">© <span id="year"></span> Brain Explorer</span>
        <div class="row small">
          <a href="#about">About</a><span class="muted">·</span>
          <a href="#resources">Resources</a><span class="muted">·</span>
          <a href="mailto:you@example.com">Contact</a>
        </div>
        <span class="small">Built with plain HTML/CSS/JS — easy to host anywhere.</span>
      </div>
    </div>
  </footer>

  <script>
    // ----- Tabs with hash routing -----
    const tabs = document.querySelectorAll('.tab-btn');
    const sections = [...document.querySelectorAll('main section')];
    function show(tab){
      sections.forEach(s=>s.style.display = (s.id===tab?'block':'none'));
      tabs.forEach(b=>b.classList.toggle('active', b.dataset.tab===tab));
      if(location.hash !== '#'+tab){ history.replaceState(null,'','#'+tab); }
    }
    tabs.forEach(btn=>btn.addEventListener('click',()=>show(btn.dataset.tab)));
    document.querySelectorAll('[data-nav]').forEach(x=>x.addEventListener('click',()=>show(x.dataset.nav)));
    function initRoute(){
      const h = (location.hash || '#home').slice(1);
      const valid = sections.some(s=>s.id===h) ? h : 'home';
      show(valid);
    }
    window.addEventListener('hashchange', initRoute);

    // ----- Search -----
    const topics = [
      { term:'memory', text:'Hippocampus helps form new memories; sleep consolidates them.'},
      { term:'dopamine', text:'A neurotransmitter tied to motivation and reward prediction.'},
      { term:'sleep', text:'Deep sleep strengthens synapses; REM supports creative linking.'},
      { term:'amygdala', text:'Key for emotion/fear detection and rapid responses.'},
      { term:'cerebellum', text:'Coordinates balance, timing, and fine movements.'}
    ];
    const search = document.getElementById('search');
    const results = document.getElementById('searchResults');
    if(search){
      search.addEventListener('input',()=>{
        const q = search.value.trim().toLowerCase();
        results.innerHTML='';
        if(!q) return;
        topics.filter(t=>t.term.includes(q)).forEach(t=>{
          const li=document.createElement('li');
          li.innerHTML = `<b>${t.term}</b>: <span class="muted">${t.text}</span>`;
          results.appendChild(li);
        });
      });
    }

    // ----- Quiz with best-score in localStorage -----
    const key = { q1:'Occipital', q2:'New memories', q3:'Amygdala', q4:'Speech production', q5:'Brainstem' };
    const form = document.getElementById('quizForm');
    const resetBtn = document.getElementById('resetQuiz');
    const bestEl = document.getElementById('bestScore');
    function updateBest(score,total){
      const k='be_best'; const prev = localStorage.getItem(k);
      if(prev===null || score>Number(prev)){ localStorage.setItem(k, String(score)); }
      bestEl.textContent = (localStorage.getItem(k) ?? '—') + '/' + total;
    }
    function grade(){
      let score = 0; let total = Object.keys(key).length;
      for(const q in key){
        const chosen = form.querySelector(`input[name="${q}"]:checked`);
        const box = form.querySelector(`.result[data-for="${q}"]`);
        if(!box) continue;
        if(!chosen){ box.textContent = 'Pick an answer'; box.style.color = '#f59e0b'; continue; }
        if(chosen.value === key[q]){ score++; box.textContent = 'Correct!'; box.style.color = '#34d399'; }
        else { box.textContent = `Not quite. Correct: ${key[q]}`; box.style.color = '#f87171'; }
      }
      document.getElementById('score').textContent = `Score: ${score}/${total}`;
      updateBest(score,total);
    }
    function resetQuiz(){
      form.reset();
      form.querySelectorAll('.result').forEach(r=>{r.textContent=''; r.style.color=''});
      document.getElementById('score').textContent='';
    }
    if(form){
      form.addEventListener('submit', e=>{ e.preventDefault(); grade(); });
      resetBtn.addEventListener('click', resetQuiz);
    }

    // ----- Flashcards (full set) -----
    const fcData = [
      {front:'Hippocampus',back:'Forms new memories; medial temporal lobe.'},
      {front:'Amygdala',back:'Emotion/fear detection and rapid responses.'},
      {front:'Cerebellum',back:'Balance, timing, and fine motor control.'},
      {front:'Broca’s area',back:'Speech production (inferior frontal gyrus).'},
      {front:'Wernicke’s area',back:'Language comprehension (posterior temporal).'}
    ];
    const fcWrap = document.getElementById('fc');
    function renderFC(){
      if(!fcWrap) return;
      fcWrap.innerHTML='';
      fcData.forEach(it=>{
        const card = document.createElement('div'); card.className='card span-4'; card.style.cursor='pointer';
        card.innerHTML = `<h4>${it.front}</h4><p class="muted">${it.back}</p>`;
        let flip=false;
        card.addEventListener('click', ()=>{
          flip=!flip; card.innerHTML = flip ? `<h4>${it.back}</h4><p class="muted">${it.front}</p>` : `<h4>${it.front}</h4><p class="muted">${it.back}</p>`;
        });
        fcWrap.appendChild(card);
      });
    }

    // ----- Flashcard teaser (home) -----
    function renderTeaser(){
      const el = document.getElementById('teaser'); if(!el) return;
      const sample = [...fcData].sort(()=>Math.random()-0.5).slice(0,3);
      el.innerHTML = '';
      sample.forEach(it=>{
        const c = document.createElement('div'); c.className='mini';
        c.innerHTML = `<b>${it.front}</b><br><span class="muted">${it.back}</span>`;
        let f=false; c.addEventListener('click',()=>{ f=!f; c.innerHTML = f? `<b>${it.back}</b><br><span class="muted">${it.front}</span>` : `<b>${it.front}</b><br><span class="muted">${it.back}</span>`; });
        el.appendChild(c);
      });
      const btn = document.getElementById('shuffleTeaser');
      if(btn){ btn.onclick = renderTeaser; }
    }

    // ----- Daily rotating facts (not in basics) -----
    const DAILY_FACTS = {
      0: [
        "The brain itself has no pain receptors—surgeons can operate on awake patients.",
        "Signals in myelinated axons can reach ~120 m/s (about 270 mph).",
        "Your brain briefly suppresses vision during fast eye jumps (saccades) to prevent blur."
      ],
      1: [
        "Smell has a direct route to memory centers, bypassing the thalamus—hence strong smell–memory links.",
        "Infant brains burn more glucose than adult brains while wiring up connections.",
        "The \"homunculus\" is a distorted body map on your cortex—hands/lips take huge space."
      ],
      2: [
        "London taxi drivers show larger posterior hippocampi, linked with intense navigation practice.",
        "Some people experience synesthesia—letters or sounds trigger colors or tastes.",
        "Your brain can \"fill in\" a blind spot where the optic nerve exits the eye."
      ],
      3: [
        "During REM sleep, your muscles are actively paralyzed to keep you from acting out dreams.",
        "Reading Braille can activate the visual cortex in blind readers—plasticity in action.",
        "Two sounds arriving within ~30 ms can be fused into one (temporal resolution limit)."
      ],
      4: [
        "A single neuron can make thousands of synapses; total connections likely exceed 100 trillion.",
        "Place cells in the hippocampus fire like an internal GPS when you navigate.",
        "Your pupils change not just with light but with effort and surprise."
      ],
      5: [
        "Most people can’t tickle themselves—your cerebellum cancels the expected sensation.",
        "The brain uses about 20% of resting energy despite being ~2% of body weight.",
        "Mirror neurons may help you learn by watching and empathize with others."
      ],
      6: [
        "Language is usually left-dominant, but music and prosody rely more on the right hemisphere.",
        "Your brain predicts the next sound in speech; surprises spike activity.",
        "Motion aftereffect: stare at a waterfall, then look away—stationary objects seem to drift upward."
      ]
    };
    (function renderFacts(){
      const day = new Date().getDay(); // 0=Sun…6=Sat
      const facts = DAILY_FACTS[day] || [];
      const ul = document.getElementById('factsList');
      const stamp = document.getElementById('factsStamp');
      if(ul){ ul.innerHTML = facts.map(f => `<li>${f}</li>`).join(''); }
      if(stamp){
        const days = ["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];
        stamp.textContent = `Auto-rotates daily • ${days[day]}`;
      }
    })();

    // ----- Init -----
    document.getElementById('year').textContent = new Date().getFullYear();
    renderFC(); renderTeaser(); initRoute();
  </script>
</body>
</html>
